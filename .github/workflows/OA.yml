name: OA
on:
  push:
    branches:
    - main
  schedule:
    - cron: '0 22 * * *'
    
jobs:
  OA:
    runs-on: ubuntu-latest
        
    steps:                          
    - name: checkout main
      uses: actions/checkout@v2
      with:
        ref: main
        
    - name: OA
      run: |
        pip install pycryptodome
        python C.py --public ${{ secrets.PUBLIC }} --private ${{ secrets.PRIVATE }} --mode jiemi
    
    - name: Upload
      run: |
        cd Upload
        python oa.py

    - name: Clean
      run: |
        python C.py --public ${{ secrets.PUBLIC }} --private ${{ secrets.PRIVATE }} --mode jiami
        git init
        git config user.name Rcrwrate
        git config user.email 46920034+Rcrwrate@users.noreply.github.com
        git add .
        git commit -m "OA"
        git push

                        
    # - name: Deploy
    #   uses: JamesIves/github-pages-deploy-action@3.7.1
    #   with:
    #     BRANCH: main
    #     FOLDER: .
    #     BASE_BRANCH: main
                
                
                
